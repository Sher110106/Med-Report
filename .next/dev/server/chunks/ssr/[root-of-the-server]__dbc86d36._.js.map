{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/sher/project/Med/components/ImageUploader.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef } from \"react\";\nimport Image from \"next/image\";\n\ninterface ImageUploaderProps {\n  onImageSelect: (file: File) => void;\n}\n\nexport default function ImageUploader({ onImageSelect }: ImageUploaderProps) {\n  const [preview, setPreview] = useState<string | null>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setPreview(reader.result as string);\n      };\n      reader.readAsDataURL(file);\n\n      onImageSelect(file);\n    }\n  };\n\n  return (\n    <div className=\"w-full max-w-2xl\">\n      <div\n        onClick={() => fileInputRef.current?.click()}\n        className=\"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-blue-500 transition-colors\"\n      >\n        {preview ? (\n          <div className=\"relative w-full h-64\">\n            <Image\n              src={preview}\n              alt=\"Preview\"\n              fill\n              className=\"object-contain\"\n            />\n          </div>\n        ) : (\n          <div>\n            <svg\n              className=\"mx-auto h-12 w-12 text-gray-400\"\n              stroke=\"currentColor\"\n              fill=\"none\"\n              viewBox=\"0 0 48 48\"\n            >\n              <path\n                d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\"\n                strokeWidth={2}\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n            <p className=\"mt-2 text-sm text-gray-600\">\n              Click to upload medical note image\n            </p>\n            <p className=\"text-xs text-gray-500 mt-1\">\n              PNG, JPG up to 10MB\n            </p>\n          </div>\n        )}\n      </div>\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={handleFileChange}\n        className=\"hidden\"\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AASe,SAAS,cAAc,EAAE,aAAa,EAAsB;IACzE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mOAAQ,EAAgB;IACtD,MAAM,eAAe,IAAA,iOAAM,EAAmB;IAE9C,MAAM,mBAAmB,CAAC;QACxB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,MAAM;YACR,MAAM,SAAS,IAAI;YACnB,OAAO,SAAS,GAAG;gBACjB,WAAW,OAAO,MAAM;YAC1B;YACA,OAAO,aAAa,CAAC;YAErB,cAAc;QAChB;IACF;IAEA,qBACE,gQAAC;QAAI,WAAU;;0BACb,gQAAC;gBACC,SAAS,IAAM,aAAa,OAAO,EAAE;gBACrC,WAAU;0BAET,wBACC,gQAAC;oBAAI,WAAU;8BACb,cAAA,gQAAC,0JAAK;wBACJ,KAAK;wBACL,KAAI;wBACJ,IAAI;wBACJ,WAAU;;;;;;;;;;yCAId,gQAAC;;sCACC,gQAAC;4BACC,WAAU;4BACV,QAAO;4BACP,MAAK;4BACL,SAAQ;sCAER,cAAA,gQAAC;gCACC,GAAE;gCACF,aAAa;gCACb,eAAc;gCACd,gBAAe;;;;;;;;;;;sCAGnB,gQAAC;4BAAE,WAAU;sCAA6B;;;;;;sCAG1C,gQAAC;4BAAE,WAAU;sCAA6B;;;;;;;;;;;;;;;;;0BAMhD,gQAAC;gBACC,KAAK;gBACL,MAAK;gBACL,QAAO;gBACP,UAAU;gBACV,WAAU;;;;;;;;;;;;AAIlB"}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///Users/sher/project/Med/components/ProcessingOptions.tsx"],"sourcesContent":["\"use client\";\n\ntype ProcessingMode = \"direct\" | \"two-stage\" | \"azure-two-stage\" | \"gemini-labs\" | \"azure-labs\";\n\ninterface ProcessingOptionsProps {\n  selectedMode: ProcessingMode;\n  onModeChange: (mode: ProcessingMode) => void;\n  onProcess: () => void;\n  isProcessing: boolean;\n  disabled: boolean;\n}\n\nexport default function ProcessingOptions({\n  selectedMode,\n  onModeChange,\n  onProcess,\n  isProcessing,\n  disabled,\n}: ProcessingOptionsProps) {\n  return (\n    <div className=\"w-full max-w-2xl space-y-4\">\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">Processing Mode</h3>\n\n        <div className=\"space-y-3\">\n          {/* SOAP Extraction Options */}\n          <div className=\"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2\">\n            SOAP Note Extraction\n          </div>\n\n          <label className=\"flex items-start space-x-3 cursor-pointer\">\n            <input\n              type=\"radio\"\n              name=\"mode\"\n              value=\"direct\"\n              checked={selectedMode === \"direct\"}\n              onChange={() => onModeChange(\"direct\")}\n              className=\"mt-1\"\n            />\n            <div>\n              <div className=\"font-medium\">Direct Processing (Fast)</div>\n              <div className=\"text-sm text-gray-600\">\n                Image → Gemini Pro → SOAP JSON\n                <br />\n                <span className=\"text-xs text-gray-500\">\n                  Single-stage extraction with built-in OCR correction\n                </span>\n              </div>\n            </div>\n          </label>\n\n          <label className=\"flex items-start space-x-3 cursor-pointer\">\n            <input\n              type=\"radio\"\n              name=\"mode\"\n              value=\"two-stage\"\n              checked={selectedMode === \"two-stage\"}\n              onChange={() => onModeChange(\"two-stage\")}\n              className=\"mt-1\"\n            />\n            <div>\n              <div className=\"font-medium\">Two-Stage (Gemini)</div>\n              <div className=\"text-sm text-gray-600\">\n                Image → Gemini Flash (OCR) → Gemini Pro → SOAP JSON\n                <br />\n                <span className=\"text-xs text-gray-500\">\n                  Raw OCR extraction followed by structured analysis\n                </span>\n              </div>\n            </div>\n          </label>\n\n          <label className=\"flex items-start space-x-3 cursor-pointer\">\n            <input\n              type=\"radio\"\n              name=\"mode\"\n              value=\"azure-two-stage\"\n              checked={selectedMode === \"azure-two-stage\"}\n              onChange={() => onModeChange(\"azure-two-stage\")}\n              className=\"mt-1\"\n            />\n            <div>\n              <div className=\"font-medium\">Two-Stage (Azure OpenAI)</div>\n              <div className=\"text-sm text-gray-600\">\n                Image → Gemini Flash (OCR) → GPT-5-mini → SOAP JSON\n                <br />\n                <span className=\"text-xs text-gray-500\">\n                  Raw OCR extraction + Azure OpenAI for structured analysis\n                </span>\n              </div>\n            </div>\n          </label>\n\n          {/* Labs Extraction Options */}\n          <div className=\"text-xs font-semibold text-gray-500 uppercase tracking-wide mt-4 mb-2 pt-3 border-t\">\n            Labs & Diagnostics Extraction\n          </div>\n\n          <label className=\"flex items-start space-x-3 cursor-pointer\">\n            <input\n              type=\"radio\"\n              name=\"mode\"\n              value=\"gemini-labs\"\n              checked={selectedMode === \"gemini-labs\"}\n              onChange={() => onModeChange(\"gemini-labs\")}\n              className=\"mt-1\"\n            />\n            <div>\n              <div className=\"font-medium\">Labs Extraction (Gemini)</div>\n              <div className=\"text-sm text-gray-600\">\n                Image → Gemini Flash (OCR) → Gemini Pro → Labs JSON\n                <br />\n                <span className=\"text-xs text-gray-500\">\n                  Focused on diagnostics, lab results, and medications\n                </span>\n              </div>\n            </div>\n          </label>\n\n          <label className=\"flex items-start space-x-3 cursor-pointer\">\n            <input\n              type=\"radio\"\n              name=\"mode\"\n              value=\"azure-labs\"\n              checked={selectedMode === \"azure-labs\"}\n              onChange={() => onModeChange(\"azure-labs\")}\n              className=\"mt-1\"\n            />\n            <div>\n              <div className=\"font-medium\">Labs Extraction (Azure OpenAI)</div>\n              <div className=\"text-sm text-gray-600\">\n                Image → Gemini Flash (OCR) → GPT-5-mini → Labs JSON\n                <br />\n                <span className=\"text-xs text-gray-500\">\n                  Focused on diagnostics, lab results, and medications\n                </span>\n              </div>\n            </div>\n          </label>\n        </div>\n      </div>\n\n      <button\n        onClick={onProcess}\n        disabled={disabled || isProcessing}\n        className=\"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors\"\n      >\n        {isProcessing ? \"Processing...\" : \"Extract Data\"}\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAYe,SAAS,kBAAkB,EACxC,YAAY,EACZ,YAAY,EACZ,SAAS,EACT,YAAY,EACZ,QAAQ,EACe;IACvB,qBACE,gQAAC;QAAI,WAAU;;0BACb,gQAAC;gBAAI,WAAU;;kCACb,gQAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAE3C,gQAAC;wBAAI,WAAU;;0CAEb,gQAAC;gCAAI,WAAU;0CAAmE;;;;;;0CAIlF,gQAAC;gCAAM,WAAU;;kDACf,gQAAC;wCACC,MAAK;wCACL,MAAK;wCACL,OAAM;wCACN,SAAS,iBAAiB;wCAC1B,UAAU,IAAM,aAAa;wCAC7B,WAAU;;;;;;kDAEZ,gQAAC;;0DACC,gQAAC;gDAAI,WAAU;0DAAc;;;;;;0DAC7B,gQAAC;gDAAI,WAAU;;oDAAwB;kEAErC,gQAAC;;;;;kEACD,gQAAC;wDAAK,WAAU;kEAAwB;;;;;;;;;;;;;;;;;;;;;;;;0CAO9C,gQAAC;gCAAM,WAAU;;kDACf,gQAAC;wCACC,MAAK;wCACL,MAAK;wCACL,OAAM;wCACN,SAAS,iBAAiB;wCAC1B,UAAU,IAAM,aAAa;wCAC7B,WAAU;;;;;;kDAEZ,gQAAC;;0DACC,gQAAC;gDAAI,WAAU;0DAAc;;;;;;0DAC7B,gQAAC;gDAAI,WAAU;;oDAAwB;kEAErC,gQAAC;;;;;kEACD,gQAAC;wDAAK,WAAU;kEAAwB;;;;;;;;;;;;;;;;;;;;;;;;0CAO9C,gQAAC;gCAAM,WAAU;;kDACf,gQAAC;wCACC,MAAK;wCACL,MAAK;wCACL,OAAM;wCACN,SAAS,iBAAiB;wCAC1B,UAAU,IAAM,aAAa;wCAC7B,WAAU;;;;;;kDAEZ,gQAAC;;0DACC,gQAAC;gDAAI,WAAU;0DAAc;;;;;;0DAC7B,gQAAC;gDAAI,WAAU;;oDAAwB;kEAErC,gQAAC;;;;;kEACD,gQAAC;wDAAK,WAAU;kEAAwB;;;;;;;;;;;;;;;;;;;;;;;;0CAQ9C,gQAAC;gCAAI,WAAU;0CAAsF;;;;;;0CAIrG,gQAAC;gCAAM,WAAU;;kDACf,gQAAC;wCACC,MAAK;wCACL,MAAK;wCACL,OAAM;wCACN,SAAS,iBAAiB;wCAC1B,UAAU,IAAM,aAAa;wCAC7B,WAAU;;;;;;kDAEZ,gQAAC;;0DACC,gQAAC;gDAAI,WAAU;0DAAc;;;;;;0DAC7B,gQAAC;gDAAI,WAAU;;oDAAwB;kEAErC,gQAAC;;;;;kEACD,gQAAC;wDAAK,WAAU;kEAAwB;;;;;;;;;;;;;;;;;;;;;;;;0CAO9C,gQAAC;gCAAM,WAAU;;kDACf,gQAAC;wCACC,MAAK;wCACL,MAAK;wCACL,OAAM;wCACN,SAAS,iBAAiB;wCAC1B,UAAU,IAAM,aAAa;wCAC7B,WAAU;;;;;;kDAEZ,gQAAC;;0DACC,gQAAC;gDAAI,WAAU;0DAAc;;;;;;0DAC7B,gQAAC;gDAAI,WAAU;;oDAAwB;kEAErC,gQAAC;;;;;kEACD,gQAAC;wDAAK,WAAU;kEAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BASlD,gQAAC;gBACC,SAAS;gBACT,UAAU,YAAY;gBACtB,WAAU;0BAET,eAAe,kBAAkB;;;;;;;;;;;;AAI1C"}},
    {"offset": {"line": 502, "column": 0}, "map": {"version":3,"sources":["file:///Users/sher/project/Med/components/ResultsDisplay.tsx"],"sourcesContent":["\"use client\";\n\nimport { SOAPNote } from \"@/lib/types\";\n\ninterface ResultsDisplayProps {\n  soapData?: SOAPNote;\n  rawText?: string;\n  processingTime?: number;\n  showRawText?: boolean;\n}\n\nexport default function ResultsDisplay({\n  soapData,\n  rawText,\n  processingTime,\n  showRawText,\n}: ResultsDisplayProps) {\n  if (!soapData && !rawText) return null;\n\n  return (\n    <div className=\"w-full max-w-4xl space-y-4\">\n      {processingTime && (\n        <div className=\"text-sm text-gray-600 text-right\">\n          Processing time: {(processingTime / 1000).toFixed(2)}s\n        </div>\n      )}\n\n      {showRawText && rawText && (\n        <div className=\"bg-gray-50 rounded-lg p-6\">\n          <h3 className=\"text-lg font-semibold mb-3\">Raw OCR Text</h3>\n          <pre className=\"whitespace-pre-wrap text-sm font-mono bg-white p-4 rounded border\">\n            {rawText}\n          </pre>\n        </div>\n      )}\n\n      {soapData && (\n        <div className=\"bg-white rounded-lg shadow-lg p-6 space-y-6\">\n          <h2 className=\"text-2xl font-bold\">SOAP Note</h2>\n\n          {/* Subjective */}\n          <section>\n            <h3 className=\"text-xl font-semibold text-blue-600 mb-2\">\n              Subjective\n            </h3>\n            <div className=\"space-y-2 pl-4\">\n              <div>\n                <span className=\"font-medium\">Chief Complaint:</span>{\" \"}\n                {soapData.soap_note.subjective.chief_complaint}\n              </div>\n              <div>\n                <span className=\"font-medium\">HPI:</span>{\" \"}\n                {soapData.soap_note.subjective.hpi}\n              </div>\n              {soapData.soap_note.subjective.symptoms.length > 0 && (\n                <div>\n                  <span className=\"font-medium\">Symptoms:</span>\n                  <ul className=\"list-disc list-inside ml-4\">\n                    {soapData.soap_note.subjective.symptoms.map((s, i) => (\n                      <li key={i}>{s}</li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n            </div>\n          </section>\n\n          {/* Objective */}\n          <section>\n            <h3 className=\"text-xl font-semibold text-green-600 mb-2\">\n              Objective\n            </h3>\n            <div className=\"space-y-3 pl-4\">\n              <div>\n                <span className=\"font-medium\">Vitals:</span>\n                <div className=\"grid grid-cols-2 gap-2 ml-4 mt-1\">\n                  {Object.entries(soapData.soap_note.objective.vitals).map(\n                    ([key, value]) => (\n                      <div key={key} className=\"text-sm\">\n                        <span className=\"uppercase text-gray-600\">{key}:</span>{\" \"}\n                        {value || \"N/A\"}\n                      </div>\n                    )\n                  )}\n                </div>\n              </div>\n              {soapData.soap_note.objective.physical_exam.findings.length >\n                0 && (\n                <div>\n                  <span className=\"font-medium\">Physical Exam:</span>\n                  <ul className=\"list-disc list-inside ml-4\">\n                    {soapData.soap_note.objective.physical_exam.findings.map(\n                      (f, i) => (\n                        <li key={i}>{f}</li>\n                      )\n                    )}\n                  </ul>\n                </div>\n              )}\n            </div>\n          </section>\n\n          {/* Assessment */}\n          <section>\n            <h3 className=\"text-xl font-semibold text-orange-600 mb-2\">\n              Assessment\n            </h3>\n            <div className=\"space-y-2 pl-4\">\n              <div className=\"bg-orange-50 p-3 rounded\">\n                <div className=\"font-medium\">\n                  {soapData.soap_note.assessment.primary_diagnosis.value}\n                </div>\n                <div className=\"text-sm text-gray-600 mt-1\">\n                  Confidence:{\" \"}\n                  {(\n                    soapData.soap_note.assessment.primary_diagnosis\n                      .certainty_degree * 100\n                  ).toFixed(0)}\n                  %\n                </div>\n                <div className=\"text-xs text-gray-500 mt-1 italic\">\n                  Evidence: \"\n                  {soapData.soap_note.assessment.primary_diagnosis.evidence_text}\n                  \"\n                </div>\n              </div>\n            </div>\n          </section>\n\n          {/* Plan */}\n          <section>\n            <h3 className=\"text-xl font-semibold text-purple-600 mb-2\">Plan</h3>\n            <div className=\"space-y-3 pl-4\">\n              {soapData.soap_note.plan.medications.length > 0 && (\n                <div>\n                  <span className=\"font-medium\">Medications:</span>\n                  <div className=\"space-y-2 ml-4 mt-2\">\n                    {soapData.soap_note.plan.medications.map((med, i) => (\n                      <div key={i} className=\"bg-purple-50 p-3 rounded\">\n                        <div className=\"font-medium\">\n                          {med.drug} {med.dosage}\n                        </div>\n                        <div className=\"text-sm\">{med.sig}</div>\n                        <div className=\"text-xs text-gray-500\">\n                          Confidence: {(med.handwriting_confidence * 100).toFixed(0)}%\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n              {soapData.soap_note.plan.patient_instructions && (\n                <div>\n                  <span className=\"font-medium\">Instructions:</span>{\" \"}\n                  {soapData.soap_note.plan.patient_instructions}\n                </div>\n              )}\n            </div>\n          </section>\n\n          {/* Metadata */}\n          <section className=\"border-t pt-4\">\n            <h3 className=\"text-lg font-semibold text-gray-600 mb-2\">\n              Quality Metadata\n            </h3>\n            <div className=\"text-sm space-y-1 pl-4\">\n              <div>\n                <span className=\"font-medium\">OCR Quality:</span>{\" \"}\n                {soapData.metadata.ocr_quality_check}\n              </div>\n              {soapData.metadata.critical_ambiguities && (\n                <div className=\"text-red-600\">\n                  <span className=\"font-medium\">⚠️ Ambiguities:</span>{\" \"}\n                  {soapData.metadata.critical_ambiguities}\n                </div>\n              )}\n            </div>\n          </section>\n\n          {/* Download JSON */}\n          <button\n            onClick={() => {\n              const blob = new Blob([JSON.stringify(soapData, null, 2)], {\n                type: \"application/json\",\n              });\n              const url = URL.createObjectURL(blob);\n              const a = document.createElement(\"a\");\n              a.href = url;\n              a.download = \"soap-note.json\";\n              a.click();\n            }}\n            className=\"w-full bg-gray-200 text-gray-800 py-2 rounded hover:bg-gray-300 transition-colors\"\n          >\n            Download JSON\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1025, "column": 0}, "map": {"version":3,"sources":["file:///Users/sher/project/Med/components/LabsResultsDisplay.tsx"],"sourcesContent":["\"use client\";\n\ninterface LabResult {\n  test_name: string;\n  value: string;\n  unit: string;\n  flag: string;\n  original_text: string;\n  confidence_score: number;\n}\n\ninterface Medication {\n  name: string;\n  dosage: string;\n  frequency: string;\n  confidence_score: number;\n}\n\ninterface LabsData {\n  patient_metadata: {\n    name: string;\n    age: string;\n    gender: string;\n    date_of_visit: string;\n  };\n  diagnostics_and_labs: LabResult[];\n  clinical_assessment: {\n    chief_complaint: string;\n    symptoms: string[];\n    diagnosis: string;\n  };\n  treatment_plan: {\n    medications: Medication[];\n    procedures_ordered: string[];\n    lifestyle_advice: string;\n  };\n  metadata: {\n    ocr_quality_check: string;\n    extraction_notes: string;\n  };\n}\n\ninterface LabsResultsDisplayProps {\n  data: LabsData;\n  processingTime?: number;\n}\n\nfunction ConfidenceBadge({ score }: { score: number }) {\n  const getColor = () => {\n    if (score >= 0.9) return \"bg-green-100 text-green-800\";\n    if (score >= 0.7) return \"bg-yellow-100 text-yellow-800\";\n    return \"bg-red-100 text-red-800\";\n  };\n\n  return (\n    <span className={`text-xs px-2 py-0.5 rounded-full ${getColor()}`}>\n      {(score * 100).toFixed(0)}%\n    </span>\n  );\n}\n\nfunction FlagBadge({ flag }: { flag: string }) {\n  const getColor = () => {\n    switch (flag.toLowerCase()) {\n      case \"high\":\n        return \"bg-red-100 text-red-800 border-red-200\";\n      case \"low\":\n        return \"bg-blue-100 text-blue-800 border-blue-200\";\n      case \"critical\":\n        return \"bg-red-200 text-red-900 border-red-300\";\n      case \"normal\":\n        return \"bg-green-100 text-green-800 border-green-200\";\n      default:\n        return \"bg-gray-100 text-gray-600 border-gray-200\";\n    }\n  };\n\n  return (\n    <span className={`text-xs px-2 py-0.5 rounded border ${getColor()}`}>\n      {flag}\n    </span>\n  );\n}\n\nexport default function LabsResultsDisplay({ data, processingTime }: LabsResultsDisplayProps) {\n  const handleDownload = () => {\n    const jsonString = JSON.stringify(data, null, 2);\n    const blob = new Blob([jsonString], { type: \"application/json\" });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.download = `labs-extraction-${new Date().toISOString().split(\"T\")[0]}.json`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <div className=\"w-full max-w-4xl space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-2xl font-bold text-gray-900\">Labs Extraction Results</h2>\n        <div className=\"flex items-center gap-4\">\n          {processingTime && (\n            <span className=\"text-sm text-gray-500\">\n              Processed in {(processingTime / 1000).toFixed(2)}s\n            </span>\n          )}\n          <button\n            onClick={handleDownload}\n            className=\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\n            </svg>\n            Download JSON\n          </button>\n        </div>\n      </div>\n\n      {/* Patient Metadata */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h3 className=\"text-lg font-semibold text-purple-700 mb-4 flex items-center\">\n          <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n          </svg>\n          Patient Information\n        </h3>\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n          <div>\n            <div className=\"text-xs text-gray-500 uppercase\">Name</div>\n            <div className=\"font-medium\">{data.patient_metadata.name}</div>\n          </div>\n          <div>\n            <div className=\"text-xs text-gray-500 uppercase\">Age</div>\n            <div className=\"font-medium\">{data.patient_metadata.age}</div>\n          </div>\n          <div>\n            <div className=\"text-xs text-gray-500 uppercase\">Gender</div>\n            <div className=\"font-medium\">{data.patient_metadata.gender}</div>\n          </div>\n          <div>\n            <div className=\"text-xs text-gray-500 uppercase\">Visit Date</div>\n            <div className=\"font-medium\">{data.patient_metadata.date_of_visit}</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Clinical Assessment */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h3 className=\"text-lg font-semibold text-blue-700 mb-4 flex items-center\">\n          <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n          </svg>\n          Clinical Assessment\n        </h3>\n        <div className=\"space-y-3\">\n          <div>\n            <div className=\"text-xs text-gray-500 uppercase mb-1\">Chief Complaint</div>\n            <div className=\"bg-blue-50 p-3 rounded-lg text-blue-900\">\n              {data.clinical_assessment.chief_complaint}\n            </div>\n          </div>\n          <div>\n            <div className=\"text-xs text-gray-500 uppercase mb-1\">Diagnosis</div>\n            <div className=\"bg-orange-50 p-3 rounded-lg text-orange-900 font-medium\">\n              {data.clinical_assessment.diagnosis}\n            </div>\n          </div>\n          {data.clinical_assessment.symptoms.length > 0 && (\n            <div>\n              <div className=\"text-xs text-gray-500 uppercase mb-1\">Symptoms</div>\n              <div className=\"flex flex-wrap gap-2\">\n                {data.clinical_assessment.symptoms.map((symptom, i) => (\n                  <span key={i} className=\"bg-gray-100 px-3 py-1 rounded-full text-sm\">\n                    {symptom}\n                  </span>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Diagnostics & Labs */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h3 className=\"text-lg font-semibold text-green-700 mb-4 flex items-center\">\n          <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z\" />\n          </svg>\n          Diagnostics & Labs\n        </h3>\n        {data.diagnostics_and_labs.length > 0 ? (\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full text-sm\">\n              <thead>\n                <tr className=\"border-b bg-gray-50\">\n                  <th className=\"text-left py-2 px-3 font-medium text-gray-600\">Test</th>\n                  <th className=\"text-left py-2 px-3 font-medium text-gray-600\">Value</th>\n                  <th className=\"text-left py-2 px-3 font-medium text-gray-600\">Unit</th>\n                  <th className=\"text-left py-2 px-3 font-medium text-gray-600\">Flag</th>\n                  <th className=\"text-left py-2 px-3 font-medium text-gray-600\">Confidence</th>\n                </tr>\n              </thead>\n              <tbody>\n                {data.diagnostics_and_labs.map((lab, i) => (\n                  <tr key={i} className=\"border-b hover:bg-gray-50\">\n                    <td className=\"py-2 px-3\">\n                      <div className=\"font-medium\">{lab.test_name}</div>\n                      <div className=\"text-xs text-gray-400 italic\">\"{lab.original_text}\"</div>\n                    </td>\n                    <td className=\"py-2 px-3 font-mono\">{lab.value}</td>\n                    <td className=\"py-2 px-3 text-gray-600\">{lab.unit}</td>\n                    <td className=\"py-2 px-3\"><FlagBadge flag={lab.flag} /></td>\n                    <td className=\"py-2 px-3\"><ConfidenceBadge score={lab.confidence_score} /></td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        ) : (\n          <div className=\"text-gray-500 text-sm\">No lab results found</div>\n        )}\n      </div>\n\n      {/* Treatment Plan */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h3 className=\"text-lg font-semibold text-red-700 mb-4 flex items-center\">\n          <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\n          </svg>\n          Treatment Plan\n        </h3>\n\n        {/* Medications */}\n        <div className=\"mb-4\">\n          <div className=\"text-sm font-medium text-gray-700 mb-2\">Medications</div>\n          {data.treatment_plan.medications.length > 0 ? (\n            <div className=\"grid gap-3\">\n              {data.treatment_plan.medications.map((med, i) => (\n                <div key={i} className=\"bg-red-50 p-3 rounded-lg flex justify-between items-start\">\n                  <div>\n                    <div className=\"font-medium text-red-900\">{med.name}</div>\n                    <div className=\"text-sm text-red-700\">\n                      <span className=\"font-mono\">{med.dosage}</span> • {med.frequency}\n                    </div>\n                  </div>\n                  <ConfidenceBadge score={med.confidence_score} />\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-gray-500 text-sm\">No medications listed</div>\n          )}\n        </div>\n\n        {/* Procedures Ordered */}\n        {data.treatment_plan.procedures_ordered.length > 0 && (\n          <div className=\"mb-4\">\n            <div className=\"text-sm font-medium text-gray-700 mb-2\">Procedures Ordered</div>\n            <div className=\"flex flex-wrap gap-2\">\n              {data.treatment_plan.procedures_ordered.map((proc, i) => (\n                <span key={i} className=\"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm\">\n                  {proc}\n                </span>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Lifestyle Advice */}\n        {data.treatment_plan.lifestyle_advice && data.treatment_plan.lifestyle_advice !== \"Unknown\" && (\n          <div>\n            <div className=\"text-sm font-medium text-gray-700 mb-2\">Lifestyle Advice</div>\n            <div className=\"bg-green-50 p-3 rounded-lg text-green-900\">\n              {data.treatment_plan.lifestyle_advice}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Metadata */}\n      <div className=\"bg-gray-50 rounded-lg p-4 text-sm\">\n        <h3 className=\"font-medium text-gray-700 mb-2\">Extraction Notes</h3>\n        <div className=\"space-y-2 text-gray-600\">\n          <div>\n            <span className=\"font-medium\">OCR Quality:</span> {data.metadata.ocr_quality_check}\n          </div>\n          <div>\n            <span className=\"font-medium\">Notes:</span> {data.metadata.extraction_notes}\n          </div>\n        </div>\n      </div>\n\n      {/* Raw JSON Output */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"text-lg font-semibold text-gray-700 flex items-center\">\n            <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\" />\n            </svg>\n            Raw JSON Output\n          </h3>\n          <button\n            onClick={() => navigator.clipboard.writeText(JSON.stringify(data, null, 2))}\n            className=\"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n            </svg>\n            Copy\n          </button>\n        </div>\n        <pre className=\"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-4 rounded border overflow-auto max-h-[400px]\">\n          {JSON.stringify(data, null, 2)}\n        </pre>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1976, "column": 0}, "map": {"version":3,"sources":["file:///Users/sher/project/Med/app/extract/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport ImageUploader from \"@/components/ImageUploader\";\nimport ProcessingOptions from \"@/components/ProcessingOptions\";\nimport ResultsDisplay from \"@/components/ResultsDisplay\";\nimport LabsResultsDisplay from \"@/components/LabsResultsDisplay\";\nimport { SOAPNote } from \"@/lib/types\";\n\ntype ProcessingMode = \"direct\" | \"two-stage\" | \"azure-two-stage\" | \"gemini-labs\" | \"azure-labs\";\n\nexport default function ExtractPage() {\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [processingMode, setProcessingMode] = useState<ProcessingMode>(\"direct\");\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [resultData, setResultData] = useState<any>(undefined);\n  const [rawOCRText, setRawOCRText] = useState<string | undefined>();\n  const [processingTime, setProcessingTime] = useState<number | undefined>();\n  const [error, setError] = useState<string | undefined>();\n\n  const handleDirectProcessing = async () => {\n    if (!selectedFile) return;\n\n    const formData = new FormData();\n    formData.append(\"image\", selectedFile);\n\n    const response = await fetch(\"/api/extract-direct\", {\n      method: \"POST\",\n      body: formData,\n    });\n\n    const result = await response.json();\n    if (result.success) {\n      setResultData(result.data);\n      setProcessingTime(result.processingTime);\n    } else {\n      throw new Error(result.error);\n    }\n  };\n\n  const handleTwoStageProcessing = async () => {\n    if (!selectedFile) return;\n\n    // Stage 1: OCR extraction\n    const formData = new FormData();\n    formData.append(\"image\", selectedFile);\n\n    const ocrResponse = await fetch(\"/api/extract-ocr\", {\n      method: \"POST\",\n      body: formData,\n    });\n\n    const ocrResult = await ocrResponse.json();\n    if (!ocrResult.success) {\n      throw new Error(ocrResult.error);\n    }\n\n    setRawOCRText(ocrResult.rawText);\n\n    // Stage 2: SOAP extraction\n    const soapResponse = await fetch(\"/api/extract-soap\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ ocrText: ocrResult.rawText }),\n    });\n\n    const soapResult = await soapResponse.json();\n    if (soapResult.success) {\n      setResultData(soapResult.data);\n      setProcessingTime(soapResult.processingTime);\n    } else {\n      throw new Error(soapResult.error);\n    }\n  };\n\n  const handleAzureTwoStageProcessing = async () => {\n    if (!selectedFile) return;\n\n    // Stage 1: OCR extraction with Gemini Flash\n    const formData = new FormData();\n    formData.append(\"image\", selectedFile);\n\n    const ocrResponse = await fetch(\"/api/extract-ocr\", {\n      method: \"POST\",\n      body: formData,\n    });\n\n    const ocrResult = await ocrResponse.json();\n    if (!ocrResult.success) {\n      throw new Error(ocrResult.error);\n    }\n\n    setRawOCRText(ocrResult.rawText);\n\n    // Stage 2: SOAP extraction with Azure OpenAI GPT-5-mini\n    const soapResponse = await fetch(\"/api/extract-soap-azure\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ ocrText: ocrResult.rawText }),\n    });\n\n    const soapResult = await soapResponse.json();\n    if (soapResult.success) {\n      setResultData(soapResult.data);\n      setProcessingTime(soapResult.processingTime);\n    } else {\n      throw new Error(soapResult.error);\n    }\n  };\n\n  const handleGeminiLabsProcessing = async () => {\n    if (!selectedFile) return;\n\n    // Stage 1: OCR extraction with Gemini Flash\n    const formData = new FormData();\n    formData.append(\"image\", selectedFile);\n\n    const ocrResponse = await fetch(\"/api/extract-ocr\", {\n      method: \"POST\",\n      body: formData,\n    });\n\n    const ocrResult = await ocrResponse.json();\n    if (!ocrResult.success) {\n      throw new Error(ocrResult.error);\n    }\n\n    setRawOCRText(ocrResult.rawText);\n\n    // Stage 2: Labs extraction with Gemini Pro\n    const labsResponse = await fetch(\"/api/extract-labs-gemini\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ ocrText: ocrResult.rawText }),\n    });\n\n    const labsResult = await labsResponse.json();\n    if (labsResult.success) {\n      setResultData(labsResult.data);\n      setProcessingTime(labsResult.processingTime);\n    } else {\n      throw new Error(labsResult.error);\n    }\n  };\n\n  const handleAzureLabsProcessing = async () => {\n    if (!selectedFile) return;\n\n    // Stage 1: OCR extraction with Gemini Flash\n    const formData = new FormData();\n    formData.append(\"image\", selectedFile);\n\n    const ocrResponse = await fetch(\"/api/extract-ocr\", {\n      method: \"POST\",\n      body: formData,\n    });\n\n    const ocrResult = await ocrResponse.json();\n    if (!ocrResult.success) {\n      throw new Error(ocrResult.error);\n    }\n\n    setRawOCRText(ocrResult.rawText);\n\n    // Stage 2: Labs extraction with Azure OpenAI GPT-5-mini\n    const labsResponse = await fetch(\"/api/extract-labs-azure\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ ocrText: ocrResult.rawText }),\n    });\n\n    const labsResult = await labsResponse.json();\n    if (labsResult.success) {\n      setResultData(labsResult.data);\n      setProcessingTime(labsResult.processingTime);\n    } else {\n      throw new Error(labsResult.error);\n    }\n  };\n\n  const handleProcess = async () => {\n    setIsProcessing(true);\n    setError(undefined);\n    setResultData(undefined);\n    setRawOCRText(undefined);\n\n    try {\n      switch (processingMode) {\n        case \"direct\":\n          await handleDirectProcessing();\n          break;\n        case \"two-stage\":\n          await handleTwoStageProcessing();\n          break;\n        case \"azure-two-stage\":\n          await handleAzureTwoStageProcessing();\n          break;\n        case \"gemini-labs\":\n          await handleGeminiLabsProcessing();\n          break;\n        case \"azure-labs\":\n          await handleAzureLabsProcessing();\n          break;\n      }\n    } catch (err: any) {\n      setError(err.message || \"Processing failed\");\n      console.error(err);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const getLoadingText = () => {\n    switch (processingMode) {\n      case \"direct\":\n        return \"Processing image...\";\n      case \"two-stage\":\n        return \"Stage 1: Extracting OCR text (Gemini)...\";\n      case \"azure-two-stage\":\n        return \"Stage 1: Extracting OCR text (Azure)...\";\n      case \"gemini-labs\":\n        return \"Stage 1: Extracting OCR text (Labs/Gemini)...\";\n      case \"azure-labs\":\n        return \"Stage 1: Extracting OCR text (Labs/Azure)...\";\n    }\n  };\n\n  const showRawText = processingMode !== \"direct\";\n\n  return (\n    <main className=\"min-h-screen bg-white py-12 px-4\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Back Navigation */}\n        <Link \n          href=\"/\" \n          className=\"inline-flex items-center text-gray-600 hover:text-black transition-colors mb-8 group\"\n        >\n          <svg \n            className=\"w-5 h-5 mr-2 transform group-hover:-translate-x-1 transition-transform\" \n            fill=\"none\" \n            stroke=\"currentColor\" \n            viewBox=\"0 0 24 24\"\n          >\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n          </svg>\n          Back to Home\n        </Link>\n\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold text-black mb-2\">\n            Medical Note Extractor\n          </h1>\n          <p className=\"text-gray-600\">\n            AI-powered extraction from handwritten doctor's notes\n          </p>\n        </div>\n\n        <div className=\"flex flex-col items-center space-y-6\">\n          <ImageUploader onImageSelect={setSelectedFile} />\n\n          <ProcessingOptions\n            selectedMode={processingMode}\n            onModeChange={setProcessingMode}\n            onProcess={handleProcess}\n            isProcessing={isProcessing}\n            disabled={!selectedFile}\n          />\n\n          {error && (\n            <div className=\"w-full max-w-2xl bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded\">\n              <strong>Error:</strong> {error}\n            </div>\n          )}\n\n          {isProcessing && (\n            <div className=\"text-center\">\n              <div className=\"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-black\"></div>\n              <p className=\"mt-2 text-gray-600\">{getLoadingText()}</p>\n            </div>\n          )}\n\n          {/* Raw OCR Text Display */}\n          {showRawText && rawOCRText && (\n            <div className=\"w-full max-w-4xl bg-gray-50 rounded-lg p-6 border border-gray-200\">\n              <h3 className=\"text-lg font-semibold mb-3 text-black\">Raw OCR Text</h3>\n              <pre className=\"whitespace-pre-wrap text-sm font-mono bg-white p-4 rounded border border-gray-200\">\n                {rawOCRText}\n              </pre>\n            </div>\n          )}\n\n          {/* Results Display */}\n          {resultData && (\n            (processingMode === \"gemini-labs\" || processingMode === \"azure-labs\") ? (\n              <LabsResultsDisplay data={resultData} processingTime={processingTime} />\n            ) : (\n              <ResultsDisplay\n                soapData={resultData}\n                rawText={rawOCRText}\n                processingTime={processingTime}\n                showRawText={false}\n              />\n            )\n          )}\n        </div>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}